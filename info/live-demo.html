<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Demo - Sky Shield</title>
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
    <link rel="icon" type="image/png" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect x='12' y='14' width='8' height='4' fill='%23667eea' rx='1'/><line x1='8' y1='16' x2='12' y2='16' stroke='%23667eea' stroke-width='2' stroke-linecap='round'/><line x1='20' y1='16' x2='24' y2='16' stroke='%23667eea' stroke-width='2' stroke-linecap='round'/><line x1='16' y1='10' x2='16' y2='14' stroke='%23667eea' stroke-width='2' stroke-linecap='round'/><line x1='16' y1='18' x2='16' y2='22' stroke='%23667eea' stroke-width='2' stroke-linecap='round'/><circle cx='8' cy='16' r='3' fill='none' stroke='%23667eea' stroke-width='1.5'/><circle cx='24' cy='16' r='3' fill='none' stroke='%23667eea' stroke-width='1.5'/><circle cx='16' cy='10' r='3' fill='none' stroke='%23667eea' stroke-width='1.5'/><circle cx='16' cy='22' r='3' fill='none' stroke='%23667eea' stroke-width='1.5'/><circle cx='16' cy='16' r='2' fill='%23764ba2'/></svg>">
    <link rel="stylesheet" href="../styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h3>Sky Shield</h3>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="technology.html" class="nav-link">Technology</a>
                <a href="live-demo.html" class="nav-link active">Live Demo</a>
                <a href="our-fleet.html" class="nav-link">Our Fleet</a>
            </div>
            <div class="hamburger" id="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="demo-hero">
        <div class="container">
            <div class="hero-content">
                <h1>Live Demo</h1>
                <p>Experience our autonomous drone security system in real-time with advanced technical monitoring and control interfaces</p>
            </div>
        </div>
    </section>

    <!-- Interactive Drone Animation Section -->
    <section class="drone-animation">
        <div class="container">
            <h2 class="section-title">Live Security Operation</h2>
            <div class="animation-content">
                <div class="animation-container">
                    <div class="event-site">
                        <!-- Event Perimeter -->
                        <div class="perimeter"></div>
                        
                        <!-- Security Guards -->
                        <div class="guard guard-1" id="guard1">
                            <div class="guard-body"></div>
                            <div class="guard-label">Guard 1</div>
                        </div>
                        <div class="guard guard-2" id="guard2">
                            <div class="guard-body"></div>
                            <div class="guard-label">Guard 2</div>
                        </div>
                        <div class="guard guard-3" id="guard3">
                            <div class="guard-body"></div>
                            <div class="guard-label">Guard 3</div>
                        </div>
                        <div class="guard guard-4" id="guard4">
                            <div class="guard-body"></div>
                            <div class="guard-label">Guard 4</div>
                        </div>
                        
                        <!-- Drone Vans -->
                        <div class="drone-van van-1">
                            <div class="van-icon">üöê</div>
                            <div class="van-label">Van 1</div>
                        </div>
                        <div class="drone-van van-2">
                            <div class="van-icon">üöê</div>
                            <div class="van-label">Van 2</div>
                        </div>
                        <div class="drone-van van-3">
                            <div class="van-icon">üöê</div>
                            <div class="van-label">Van 3</div>
                        </div>
                        
                        <!-- Drones -->
                        <div class="drone drone-1" id="drone1">
                            <div class="drone-body">
                                <div class="drone-propeller prop-1"></div>
                                <div class="drone-propeller prop-2"></div>
                                <div class="drone-propeller prop-3"></div>
                                <div class="drone-propeller prop-4"></div>
                                <div class="drone-center"></div>
                            </div>
                        </div>
                        <div class="drone drone-2" id="drone2">
                            <div class="drone-body">
                                <div class="drone-propeller prop-1"></div>
                                <div class="drone-propeller prop-2"></div>
                                <div class="drone-propeller prop-3"></div>
                                <div class="drone-propeller prop-4"></div>
                                <div class="drone-center"></div>
                            </div>
                        </div>
                        <div class="drone drone-3" id="drone3">
                            <div class="drone-body">
                                <div class="drone-propeller prop-1"></div>
                                <div class="drone-propeller prop-2"></div>
                                <div class="drone-propeller prop-3"></div>
                                <div class="drone-propeller prop-4"></div>
                                <div class="drone-center"></div>
                            </div>
                        </div>
                        
                        <!-- Threat Indicator -->
                        <div class="threat-dot" id="threatDot">
                            <div class="threat-pulse"></div>
                            <div class="threat-label">THREAT DETECTED</div>
                        </div>
                        
                        <!-- Drone Alarm Indicators -->
                        <div class="drone-alarm" id="droneAlarm1">
                            <div class="alarm-icon">üö®</div>
                        </div>
                        <div class="drone-alarm" id="droneAlarm2">
                            <div class="alarm-icon">üö®</div>
                        </div>
                        <div class="drone-alarm" id="droneAlarm3">
                            <div class="alarm-icon">üö®</div>
                        </div>
                        
                        <!-- Guard Alert Indicators -->
                        <div class="guard-alert" id="guardAlert1">
                            <div class="alert-icon">!</div>
                        </div>
                        <div class="guard-alert" id="guardAlert2">
                            <div class="alert-icon">!</div>
                        </div>
                        <div class="guard-alert" id="guardAlert3">
                            <div class="alert-icon">!</div>
                        </div>
                        <div class="guard-alert" id="guardAlert4">
                            <div class="alert-icon">!</div>
                        </div>
                        
                        <!-- Battery Swap Indicators -->
                        <div class="battery-swap" id="batterySwap">
                            <div class="lightning-icon">‚ö°</div>
                        </div>
                        
                        <!-- Status Display -->
                        <div class="status-display">
                            <div class="status-item">
                                <span class="status-label">System Status:</span>
                                <span class="status-value" id="systemStatus">ACTIVE</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">Response Time:</span>
                                <span class="status-value" id="responseTime">--</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">Drones Active:</span>
                                <span class="status-value" id="activeDrones">3</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="animation-controls">
                    <h3>Interactive Security Demo</h3>
                    <p>Watch our autonomous drone fleet in operation, demonstrating seamless battery rotation, AI-powered threat detection, and real-time perimeter surveillance capabilities.</p>
                    <div class="control-buttons">
                        <button class="demo-button" id="startDemo">Start Demo</button>
                        <button class="demo-button" id="triggerThreat">Trigger Threat</button>
                        <button class="demo-button" id="resetDemo">Reset</button>
                    </div>
                    <div class="demo-features">
                        <div class="demo-feature">
                            <i class="fas fa-robot"></i>
                            <div>
                                <h4>Autonomous Operations</h4>
                                <p>Fully autonomous flight patterns with minimal human intervention</p>
                            </div>
                        </div>
                        <div class="demo-feature">
                            <i class="fas fa-battery-full"></i>
                            <div>
                                <h4>Seamless Battery Rotation</h4>
                                <p>Continuous coverage with automated battery swap systems</p>
                            </div>
                        </div>
                        <div class="demo-feature">
                            <i class="fas fa-eye"></i>
                            <div>
                                <h4>AI-Powered Detection</h4>
                                <p>Real-time threat identification and response coordination</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Coming Soon Additional Features -->
    <section class="coming-soon">
        <div class="container">
            <div class="coming-soon-content">
                <div class="video-placeholder">
                    <div class="placeholder-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h2>Interactive Controls Coming Soon</h2>
                    <p>We're developing an interactive control interface that will allow you to experience real-time monitoring, AI analytics, and hands-on drone control during live demonstrations.</p>
                    <div class="coming-soon-features">
                        <div class="feature-item">
                            <i class="fas fa-mouse-pointer"></i>
                            <span>Interactive Controls</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-chart-line"></i>
                            <span>Live AI Analytics</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-users"></i>
                            <span>Multi-User Interface</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Technical Specifications -->
    <section class="tech-specs">
        <div class="container">
            <h2 class="section-title">Technical Specifications</h2>
            <div class="specs-grid">
                <div class="spec-category">
                    <h3><i class="fas fa-drone"></i> Drone Specifications</h3>
                    <div class="spec-list">
                        <div class="spec-item">
                            <span class="spec-label">Flight Time:</span>
                            <span class="spec-value">45-60 minutes per battery</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Max Speed:</span>
                            <span class="spec-value">50 mph (80 km/h)</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Operating Range:</span>
                            <span class="spec-value">5 miles (8 km) BVLOS</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Weather Resistance:</span>
                            <span class="spec-value">IP65 rated, 25 mph winds</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Payload Capacity:</span>
                            <span class="spec-value">2.5 lbs (1.1 kg)</span>
                        </div>
                    </div>
                </div>

                <div class="spec-category">
                    <h3><i class="fas fa-camera"></i> Camera Systems</h3>
                    <div class="spec-list">
                        <div class="spec-item">
                            <span class="spec-label">Day Camera:</span>
                            <span class="spec-value">4K UHD, 30x optical zoom</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Thermal Camera:</span>
                            <span class="spec-value">640x512 resolution, -20¬∞C to 550¬∞C</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Night Vision:</span>
                            <span class="spec-value">Starlight sensor, 0.001 lux</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">AI Detection:</span>
                            <span class="spec-value">Person detection up to 2km</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Recording:</span>
                            <span class="spec-value">Local + cloud storage</span>
                        </div>
                    </div>
                </div>

                <div class="spec-category">
                    <h3><i class="fas fa-wifi"></i> Communication & Control</h3>
                    <div class="spec-list">
                        <div class="spec-item">
                            <span class="spec-label">Primary Link:</span>
                            <span class="spec-value">5G/LTE cellular</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Backup Link:</span>
                            <span class="spec-value">RF 2.4GHz/5.8GHz</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Satellite:</span>
                            <span class="spec-value">Starlink backup</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Latency:</span>
                            <span class="spec-value">&lt;100ms command response</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Encryption:</span>
                            <span class="spec-value">AES-256 end-to-end</span>
                        </div>
                    </div>
                </div>

                <div class="spec-category">
                    <h3><i class="fas fa-brain"></i> AI & Autonomy</h3>
                    <div class="spec-list">
                        <div class="spec-item">
                            <span class="spec-label">Processing Unit:</span>
                            <span class="spec-value">NVIDIA Jetson AGX Orin</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">AI Models:</span>
                            <span class="spec-value">Custom trained neural networks</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Object Detection:</span>
                            <span class="spec-value">99.2% accuracy rate</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Path Planning:</span>
                            <span class="spec-label">Real-time obstacle avoidance</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Learning:</span>
                            <span class="spec-value">Continuous model updates</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>Sky Shield LLC ‚Ä¢ Austin, TX ‚Ä¢ Not for emergency response. Operations comply with FAA Part 107.</p>
        </div>
    </footer>

    <script src="../script.js"></script>
    <script>
        // Drone Animation JavaScript
        let animationRunning = false;
        let threatActive = false;
        let responseStartTime = null;
        let lapCounters = [0, 0, 0]; // Track laps for each drone

        const startDemoBtn = document.getElementById('startDemo');
        const triggerThreatBtn = document.getElementById('triggerThreat');
        const resetDemoBtn = document.getElementById('resetDemo');
        const threatDot = document.getElementById('threatDot');
        const systemStatus = document.getElementById('systemStatus');
        const responseTime = document.getElementById('responseTime');
        const activeDrones = document.getElementById('activeDrones');
        const commLines = document.getElementById('commLines');
        const cameraIndicator = document.getElementById('cameraIndicator');
        const batterySwap = document.getElementById('batterySwap');

        // Start Demo
        startDemoBtn.addEventListener('click', () => {
            if (!animationRunning) {
                animationRunning = true;
                systemStatus.textContent = 'ACTIVE';
                systemStatus.style.color = '#28a745';
                
                // Start drone patrol animations
                document.querySelectorAll('.drone').forEach(drone => {
                    drone.style.animationPlayState = 'running';
                });

                // Start lap tracking for battery swaps
                startLapTracking();

                startDemoBtn.textContent = 'Demo Running';
                startDemoBtn.style.background = '#28a745';
            }
        });

        // Trigger Threat
        triggerThreatBtn.addEventListener('click', () => {
            if (animationRunning && !threatActive) {
                threatActive = true;
                responseStartTime = Date.now();
                
                // Show threat dot
                threatDot.style.display = 'flex';
                
                // Update status
                systemStatus.textContent = 'THREAT DETECTED';
                systemStatus.style.color = '#dc3545';
                
                // Show alarm indicators
                setTimeout(() => {
                    document.querySelectorAll('.drone-alarm').forEach(alarm => {
                        alarm.style.display = 'flex';
                    });
                    document.querySelectorAll('.guard-alert').forEach(alert => {
                        alert.style.display = 'flex';
                    });
                }, 500);

                // Drones respond to threat - go toward threat location
                document.querySelectorAll('.drone').forEach((drone, index) => {
                    setTimeout(() => {
                        drone.classList.add('responding');
                        moveDroneToThreat(drone);
                    }, index * 300);
                });

                // Guards move to threat location
                setTimeout(() => {
                    document.querySelectorAll('.guard').forEach((guard, index) => {
                        setTimeout(() => {
                            moveGuardToThreat(guard);
                        }, index * 200);
                    });
                }, 2000);

                // Update response time
                setTimeout(() => {
                    const responseTimeMs = Date.now() - responseStartTime;
                    responseTime.textContent = `${(responseTimeMs / 1000).toFixed(1)}s`;
                    responseTime.style.color = responseTimeMs < 30000 ? '#28a745' : '#ffc107';
                }, 3000);

                triggerThreatBtn.textContent = 'Threat Active';
                triggerThreatBtn.style.background = '#dc3545';
                triggerThreatBtn.disabled = true;
            }
        });

        // Reset Demo
        resetDemoBtn.addEventListener('click', () => {
            animationRunning = false;
            threatActive = false;
            responseStartTime = null;

            // Hide threat dot and indicators
            threatDot.style.display = 'none';
            batterySwap.style.display = 'none';
            
            // Hide alarm indicators
            document.querySelectorAll('.drone-alarm').forEach(alarm => {
                alarm.style.display = 'none';
            });
            document.querySelectorAll('.guard-alert').forEach(alert => {
                alert.style.display = 'none';
            });

            // Reset status
            systemStatus.textContent = 'STANDBY';
            systemStatus.style.color = '#6c757d';
            responseTime.textContent = '--';
            responseTime.style.color = '#6c757d';

            // Stop drone animations and reset positions
            document.querySelectorAll('.drone').forEach(drone => {
                drone.style.animationPlayState = 'paused';
                drone.style.transition = '';
                drone.style.opacity = '1';
                drone.style.transform = 'translate(0, 0)';
                drone.style.filter = '';
                drone.classList.remove('responding', 'landing', 'taking-off');
            });
            
            // Reset lap counters
            lapCounters = [0, 0, 0];

            // Reset guards
            document.querySelectorAll('.guard').forEach(guard => {
                guard.style.transform = 'translate(0, 0)';
                guard.style.transition = '';
                guard.style.filter = '';
                guard.classList.remove('moving');
            });

            // Reset buttons
            startDemoBtn.textContent = 'Start Demo';
            startDemoBtn.style.background = '#667eea';
            triggerThreatBtn.textContent = 'Trigger Threat';
            triggerThreatBtn.style.background = '#667eea';
            triggerThreatBtn.disabled = false;
        });

        // Start lap tracking for battery swaps
        function startLapTracking() {
            const drones = document.querySelectorAll('.drone');
            const vans = document.querySelectorAll('.drone-van');
            
            // Reset lap counters
            lapCounters = [0, 0, 0];
            
            // Track when drones are near their vans (every 2 laps)
            setInterval(() => {
                if (!animationRunning || threatActive) return; // Stop battery swaps during threat
                
                drones.forEach((drone, index) => {
                    lapCounters[index]++;
                    
                    // Every 2 laps (30 seconds at 15s per lap), do battery swap
                    if (lapCounters[index] >= 2) {
                        lapCounters[index] = 0;
                        // Only swap one drone at a time to avoid all flashing
                        setTimeout(() => {
                            if (!threatActive) { // Double check threat status
                                performBatterySwap(drone, vans[index], index);
                            }
                        }, index * 2000); // Stagger swaps by 2 seconds
                    }
                });
            }, 100); // Check every 100ms
        }

        // Perform battery swap when drone is over its van
        function performBatterySwap(drone, van, droneIndex) {
            // Hide drone quickly
            drone.style.opacity = '0';
            
            // Show lightning bolt at van
            const vanRect = van.getBoundingClientRect();
            const eventSiteRect = document.querySelector('.event-site').getBoundingClientRect();
            batterySwap.style.left = (vanRect.left - eventSiteRect.left + vanRect.width/2 - 15) + 'px';
            batterySwap.style.top = (vanRect.top - eventSiteRect.top + vanRect.height/2 - 15) + 'px';
            batterySwap.style.display = 'flex';
            
            // Show new drone and lightning
            setTimeout(() => {
                drone.style.opacity = '1';
                batterySwap.style.display = 'none';
            }, 500);
        }

        // Move drone to threat location
        function moveDroneToThreat(drone) {
            const threatDot = document.getElementById('threatDot');
            const eventSiteRect = document.querySelector('.event-site').getBoundingClientRect();
            const droneRect = drone.getBoundingClientRect();
            const threatRect = threatDot.getBoundingClientRect();
            
            const droneX = droneRect.left - eventSiteRect.left + droneRect.width/2;
            const droneY = droneRect.top - eventSiteRect.top + droneRect.height/2;
            const threatX = threatRect.left - eventSiteRect.left + threatRect.width/2;
            const threatY = threatRect.top - eventSiteRect.top + threatRect.height/2;
            
            // Calculate movement toward threat (smaller movement to avoid snapping)
            const deltaX = (threatX - droneX) * 0.3; // Move 30% of the way toward threat
            const deltaY = (threatY - droneY) * 0.3;
            
            // Move toward threat smoothly
            drone.style.transition = 'transform 3s ease-in-out';
            drone.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
            
            // Add visual effect
            drone.style.filter = 'brightness(1.2) drop-shadow(0 0 10px #ff0000)';
        }

        // Move guard to threat location
        function moveGuardToThreat(guard) {
            const threatDot = document.getElementById('threatDot');
            const eventSiteRect = document.querySelector('.event-site').getBoundingClientRect();
            const guardRect = guard.getBoundingClientRect();
            const threatRect = threatDot.getBoundingClientRect();
            
            const guardX = guardRect.left - eventSiteRect.left + guardRect.width/2;
            const guardY = guardRect.top - eventSiteRect.top + guardRect.height/2;
            const threatX = threatRect.left - eventSiteRect.left + threatRect.width/2;
            const threatY = threatRect.top - eventSiteRect.top + threatRect.height/2;
            
            // Calculate movement toward threat (but limit distance to stay in frame)
            const deltaX = (threatX - guardX) * 0.5; // Move 50% of the way toward threat
            const deltaY = (threatY - guardY) * 0.5;
            
            // Move toward threat
            guard.style.transition = 'transform 2s ease-in-out';
            guard.style.transform = `translate(${deltaX}px, ${deltaY}px)`;
            guard.classList.add('moving');
            
            // Add visual effect
            guard.style.filter = 'brightness(1.1) drop-shadow(0 0 5px #ffc107)';
            
            // Return to original position
            setTimeout(() => {
                guard.style.transform = 'translate(0, 0)';
                guard.style.filter = '';
                setTimeout(() => {
                    guard.classList.remove('moving');
                }, 2000);
            }, 2000);
        }


        // Auto-start demo on page load
        window.addEventListener('load', () => {
            setTimeout(() => {
                startDemoBtn.click();
            }, 1000);
        });
    </script>
</body>
</html>
